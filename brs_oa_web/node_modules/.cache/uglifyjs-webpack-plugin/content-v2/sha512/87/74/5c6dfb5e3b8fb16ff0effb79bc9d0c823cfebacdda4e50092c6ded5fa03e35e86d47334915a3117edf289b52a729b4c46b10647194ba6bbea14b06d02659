{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-74cd\"],{Lcw6:function(e,t,o){\"use strict\";var i=o(\"qULk\");o.n(i).a},Mz3J:function(e,t,o){\"use strict\";Math.easeInOutQuad=function(e,t,o,i){return(e/=i/2)<1?o/2*e*e+t:-o/2*(--e*(e-2)-1)+t};var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function n(e,t,o){var n=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,a=e-n,l=0;t=void 0===t?500:t;!function e(){l+=20,function(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}(Math.easeInOutQuad(l,n,a,t)),l<t?i(e):o&&\"function\"==typeof o&&o()}()}var a={name:\"Pagination\",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:\"total, sizes, prev, pager, next, jumper\"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit(\"update:page\",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit(\"update:limit\",e)}}},methods:{handleSizeChange:function(e){this.$emit(\"pagination\",{page:this.currentPage,limit:e}),this.autoScroll&&n(0,800)},handleCurrentChange:function(e){this.$emit(\"pagination\",{page:e,limit:this.pageSize}),this.autoScroll&&n(0,800)}}},l=(o(\"Lcw6\"),o(\"KHd+\")),r=Object(l.a)(a,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"div\",{staticClass:\"pagination-container\",class:{hidden:e.hidden}},[o(\"el-pagination\",e._b({attrs:{background:e.background,\"current-page\":e.currentPage,\"page-size\":e.pageSize,layout:e.layout,\"page-sizes\":e.pageSizes,total:e.total},on:{\"update:currentPage\":function(t){e.currentPage=t},\"update:pageSize\":function(t){e.pageSize=t},\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}},\"el-pagination\",e.$attrs,!1))],1)},[],!1,null,\"331ed7d4\",null);r.options.__file=\"index.vue\";t.a=r.exports},QPH1:function(e,t,o){\"use strict\";o.d(t,\"d\",function(){return n}),o.d(t,\"a\",function(){return a}),o.d(t,\"c\",function(){return l}),o.d(t,\"b\",function(){return r}),o.d(t,\"e\",function(){return s});var i=o(\"t3Un\");function n(e){return Object(i.a)({url:\"/permission\",method:\"get\",params:e})}function a(e){return Object(i.a)({url:\"/permission\",method:\"post\",data:e})}function l(e){return Object(i.a)({url:\"/permission\",method:\"patch\",data:e})}function r(e){return Object(i.a)({url:\"/permission/\"+e,method:\"delete\"})}function s(e){return Object(i.a)({url:\"/permission/roleNo?roleNo=\"+e,method:\"get\"})}},YkKQ:function(e,t,o){\"use strict\";var i=o(\"p1rJ\");o.n(i).a},bDWH:function(e,t,o){\"use strict\";o.r(t);var i=o(\"zF5t\"),n=o(\"QPH1\"),a={name:\"roleMng\",components:{Pagination:o(\"Mz3J\").a},data:function(){return{title:\"角色管理\",buttonPrivilage:\"新增\",roleList:[],dialogFormVisible:!1,roleForm:{roleNo:\"\",roleName:\"\",roleDesc:\"\",isEnabled:\"1\"},ruleForm2:{roleName:[{required:!0,message:\"角色名称不能为空！\",trigger:\"blur\"}],roleDesc:[{required:!0,message:\"角色描述不能为空\",trigger:\"blur\"}]},formLabelWidth:\"100px\",formDialogWidth:\"550px\",searchText:\"\",count:10,privilage:{list:[],name:[],roleId:\"\"},dialogConfigPrivilage:!1,listQuery:{page:1,limit:20,importance:void 0,title:void 0,type:void 0,sort:\"+id\"},total:0,listLoading:!0,tableData:null}},created:function(){var e=this;this.getList(),Object(n.d)().then(function(t){e.privilage.list=t.data.data.list})},methods:{getList:function(){this.listLoading=!0,this.getListRole(this.listQuery)},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleDelete:function(e,t){var o=this;this.$confirm(\"此操作将永久删除该角色，是否继续？\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){Object(i.c)(t.roleNo).then(function(t){200==t.data.code&&(o.roleList.splice(e,1),o.message(\"success\",\"删除成功\"))}).catch(function(e){o.message(\"error\",e)})}).catch(function(){o.message(\"info\",\"已取消删除\")})},addRole12:function(){this.dialogFormVisible=!0},handleEdit:function(e,t){this.dialogFormVisible=!0;var o=this;this.roleList.forEach(function(e){e.roleNo==t.roleNo&&(o.roleForm={roleNo:e.roleNo,roleName:e.roleName,roleDesc:e.roleDesc,isEnabled:e.isEnabled.toString()})})},cancel:function(){this.dialogFormVisible=!1,this.message(\"info\",\"取消添加权限\"),this.clearForm(\"\",\"\",\"\",\"1\")},submit:function(e){var t=this;this.$refs.roleForm.validate(function(o){o&&(\"\"==t.roleForm.roleNo?Object(i.a)(e).then(function(e){200==e.data.code&&(t.getListRole(t.listQuery),t.dialogFormVisible=!1,t.clearForm(\"\",\"\",\"\",\"1\"),t.message(\"success\",\"角色添加成功\"))}):Object(i.d)(e).then(function(e){200==e.data.code&&(t.getListRole(t.listQuery),t.dialogFormVisible=!1,t.clearForm(\"\",\"\",\"\",\"1\"),t.message(\"success\",\"角色修改成功\"))}).catch(function(e){console.log(e)}))})},handleConfig:function(e,t){var o=this;Object(n.e)(t.roleNo).then(function(e){o.privilage.roleId=t.roleNo;var i=[];(null==e.data.data.list?\"\":e.data.data.list).forEach(function(e){i.push(e.permissionNo)}),o.privilage.name=i}),this.dialogConfigPrivilage=!0},configRoleCancel:function(){this.dialogConfigPrivilage=!1},configRoleSubmit:function(e,t){var o=this,n={permissionNoArr:e.name,roleNo:this.privilage.roleId};Object(i.b)(n).then(function(e){200==e.data.code&&(o.dialogConfigPrivilage=!1,o.message(\"success\",\"权限添加成功\"))})},message:function(e,t){this.$message({type:e,message:t})},clearForm:function(e,t,o,i){this.roleForm={roleNo:e,roleName:t,roleDesc:o,isEnabled:i}},getListRole:function(e){var t=this;Object(i.f)(e).then(function(e){t.roleList=e.data.data.list,t.total=e.data.data.total})}}},l=(o(\"YkKQ\"),o(\"KHd+\")),r=Object(l.a)(a,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"div\",{staticClass:\"roleMng\"},[o(\"div\",{staticClass:\"content\"},[o(\"div\",{staticClass:\"header\"},[o(\"el-row\",[o(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-plus\"},on:{click:e.addRole12}},[e._v(e._s(e.buttonPrivilage))])],1),e._v(\" \"),o(\"el-input\",{attrs:{placeholder:\"请输入内容\"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:\"searchText\"}},[o(\"i\",{staticClass:\"el-input__icon el-icon-search\",attrs:{slot:\"prefix\"},slot:\"prefix\"})])],1),e._v(\" \"),o(\"div\",{staticClass:\"main\"},[o(\"el-table\",{ref:\"multipleTable\",attrs:{data:e.roleList,\"tooltip-effect\":\"dark\"}},[o(\"el-table-column\",{attrs:{prop:\"roleNo\",label:\"编号\",width:\"120\"}}),e._v(\" \"),o(\"el-table-column\",{attrs:{prop:\"roleName\",label:\"角色名称\",width:\"300\"}}),e._v(\" \"),o(\"el-table-column\",{attrs:{prop:\"roleDesc\",label:\"角色描述\",width:\"300\"}}),e._v(\" \"),o(\"el-table-column\",{attrs:{prop:\"isEnabled\",label:\"启用\",width:\"120\"}}),e._v(\" \"),o(\"el-table-column\",{attrs:{label:\"操作\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[o(\"el-button\",{attrs:{size:\"mini\",icon:\"el-icon-edit\"},on:{click:function(o){e.handleEdit(t.$index,t.row)}}},[e._v(\"编辑\")]),e._v(\" \"),o(\"el-button\",{attrs:{size:\"mini\",icon:\"el-icon-setting\",type:\"primary\"},on:{click:function(o){e.handleConfig(t.$index,t.row)}}},[e._v(\"配置权限\")]),e._v(\" \"),o(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(o){e.handleDelete(t.$index,t.row)}}},[e._v(\"删除\")])]}}])})],1)],1),e._v(\" \"),o(\"div\",{staticClass:\"footer\"},[o(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.total,expression:\"total\"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{\"update:page\":function(t){e.$set(e.listQuery,\"page\",t)},\"update:limit\":function(t){e.$set(e.listQuery,\"limit\",t)},pagination:e.getList}})],1)]),e._v(\" \"),o(\"el-dialog\",{attrs:{title:\"配置权限\",width:e.formDialogWidth,visible:e.dialogConfigPrivilage},on:{\"update:visible\":function(t){e.dialogConfigPrivilage=t}}},[o(\"el-form\",{ref:\"privilage\",attrs:{model:e.privilage}},[o(\"input\",{attrs:{type:\"hidden\",name:e.privilage.roleId}}),e._v(\" \"),o(\"el-form-item\",{attrs:{label:\"权限列表\"}},[o(\"el-checkbox-group\",{model:{value:e.privilage.name,callback:function(t){e.$set(e.privilage,\"name\",t)},expression:\"privilage.name\"}},e._l(e.privilage.list,function(t){return o(\"el-checkbox\",{key:t.permissionNo,staticStyle:{display:\"block\"},attrs:{label:t.permissionNo,name:\"type\"}},[e._v(e._s(t.permissionName))])}))],1)],1),e._v(\" \"),o(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[o(\"el-button\",{attrs:{plain:!0},on:{click:e.configRoleCancel}},[e._v(\"取 消\")]),e._v(\" \"),o(\"el-button\",{attrs:{plain:!0,type:\"primary\"},on:{click:function(t){e.configRoleSubmit(e.privilage)}}},[e._v(\"确 定\")])],1)],1),e._v(\" \"),o(\"el-dialog\",{attrs:{title:\"添加角色\",width:e.formDialogWidth,visible:e.dialogFormVisible},on:{\"update:visible\":function(t){e.dialogFormVisible=t}}},[o(\"el-form\",{ref:\"roleForm\",attrs:{model:e.roleForm,rules:e.ruleForm2}},[o(\"input\",{attrs:{type:\"hidden\",name:e.roleForm.roleNo}}),e._v(\" \"),o(\"el-form-item\",{attrs:{label:\"角色名称\",\"label-width\":e.formLabelWidth,prop:\"roleName\"}},[o(\"el-input\",{attrs:{width:\"300px\",placeholder:\"请输入角色名称\"},model:{value:e.roleForm.roleName,callback:function(t){e.$set(e.roleForm,\"roleName\",t)},expression:\"roleForm.roleName\"}})],1),e._v(\" \"),o(\"el-form-item\",{attrs:{label:\"角色描述\",\"label-width\":e.formLabelWidth,prop:\"roleDesc\"}},[o(\"el-input\",{attrs:{width:\"300px\",placeholder:\"请输入角色描述\"},model:{value:e.roleForm.roleDesc,callback:function(t){e.$set(e.roleForm,\"roleDesc\",t)},expression:\"roleForm.roleDesc\"}})],1),e._v(\" \"),o(\"el-form-item\",{attrs:{label:\"启用\",\"label-width\":e.formLabelWidth}},[o(\"el-radio-group\",{model:{value:e.roleForm.isEnabled,callback:function(t){e.$set(e.roleForm,\"isEnabled\",t)},expression:\"roleForm.isEnabled\"}},[o(\"el-radio\",{attrs:{label:\"1\"}},[e._v(\"启用\")]),e._v(\" \"),o(\"el-radio\",{attrs:{label:\"0\"}},[e._v(\"禁用\")])],1)],1)],1),e._v(\" \"),o(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[o(\"el-button\",{attrs:{plain:!0},on:{click:e.cancel}},[e._v(\"取 消\")]),e._v(\" \"),o(\"el-button\",{attrs:{plain:!0,type:\"primary\"},on:{click:function(t){e.submit(e.roleForm)}}},[e._v(\"确 定\")])],1)],1)],1)},[],!1,null,\"1d9ec310\",null);r.options.__file=\"index.vue\";t.default=r.exports},p1rJ:function(e,t,o){},qULk:function(e,t,o){},zF5t:function(e,t,o){\"use strict\";o.d(t,\"f\",function(){return n}),o.d(t,\"b\",function(){return a}),o.d(t,\"a\",function(){return l}),o.d(t,\"d\",function(){return r}),o.d(t,\"c\",function(){return s}),o.d(t,\"e\",function(){return c});var i=o(\"t3Un\");function n(e){return Object(i.a)({url:\"/role\",method:\"get\",params:e})}function a(e){return Object(i.a)({url:\"/role/bindPermission\",method:\"post\",data:e})}function l(e){return Object(i.a)({url:\"/role\",method:\"post\",data:e})}function r(e){return Object(i.a)({url:\"/role\",method:\"patch\",data:e})}function s(e){return Object(i.a)({url:\"/role/\"+e,method:\"delete\"})}function c(e){return Object(i.a)({url:\"/role/empNo?empNo=\"+e,method:\"get\"})}}}]);","extractedComments":[]}