{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-3177\"],{\"0UvC\":function(t,e,a){\"use strict\";a.d(e,\"g\",function(){return r}),a.d(e,\"f\",function(){return n}),a.d(e,\"e\",function(){return i}),a.d(e,\"h\",function(){return s}),a.d(e,\"c\",function(){return l}),a.d(e,\"b\",function(){return u}),a.d(e,\"a\",function(){return c}),a.d(e,\"d\",function(){return d});var o=a(\"t3Un\");function r(t){return Object(o.a)({url:\"/workflow/apply\",method:\"post\",data:t})}function n(t){return Object(o.a)({url:\"/workflow/approver\",method:\"get\",params:t})}function i(t){return Object(o.a)({url:\"/workflow/applicant\",method:\"get\",params:t})}function s(t){return Object(o.a)({url:\"/workflow/approval\",method:\"PATCH\",params:t})}function l(){return Object(o.a)({url:\"/leaveType\",method:\"get\"})}function u(){return Object(o.a)({url:\"/approver\",method:\"get\"})}function c(t){return Object(o.a)({url:\"/workflow/proveImg\",method:\"patch\",params:t})}function d(){return\"http://172.18.19.3:8082/api/uploadWorkflowImg\"}},HBWR:function(t,e,a){\"use strict\";var o=a(\"xZEM\");a.n(o).a},Lcw6:function(t,e,a){\"use strict\";var o=a(\"qULk\");a.n(o).a},Mz3J:function(t,e,a){\"use strict\";Math.easeInOutQuad=function(t,e,a,o){return(t/=o/2)<1?a/2*t*t+e:-a/2*(--t*(t-2)-1)+e};var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function r(t,e,a){var r=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,n=t-r,i=0;e=void 0===e?500:e;!function t(){i+=20,function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}(Math.easeInOutQuad(i,r,n,e)),i<e?o(t):a&&\"function\"==typeof a&&a()}()}var n={name:\"Pagination\",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:\"total, sizes, prev, pager, next, jumper\"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit(\"update:page\",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit(\"update:limit\",t)}}},methods:{handleSizeChange:function(t){this.$emit(\"pagination\",{page:this.currentPage,limit:t}),this.autoScroll&&r(0,800)},handleCurrentChange:function(t){this.$emit(\"pagination\",{page:t,limit:this.pageSize}),this.autoScroll&&r(0,800)}}},i=(a(\"Lcw6\"),a(\"KHd+\")),s=Object(i.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"pagination-container\",class:{hidden:t.hidden}},[a(\"el-pagination\",t._b({attrs:{background:t.background,\"current-page\":t.currentPage,\"page-size\":t.pageSize,layout:t.layout,\"page-sizes\":t.pageSizes,total:t.total},on:{\"update:currentPage\":function(e){t.currentPage=e},\"update:pageSize\":function(e){t.pageSize=e},\"size-change\":t.handleSizeChange,\"current-change\":t.handleCurrentChange}},\"el-pagination\",t.$attrs,!1))],1)},[],!1,null,\"331ed7d4\",null);s.options.__file=\"index.vue\";e.a=s.exports},anrG:function(t,e,a){\"use strict\";var o=a(\"n7HW\");a.n(o).a},gfG0:function(t,e,a){},jLDv:function(t,e,a){\"use strict\";var o=a(\"gfG0\");a.n(o).a},mJtx:function(t,e,a){},n7HW:function(t,e,a){},nuTx:function(t,e,a){\"use strict\";var o=a(\"mJtx\");a.n(o).a},qULk:function(t,e,a){},tOpQ:function(t,e,a){\"use strict\";a.d(e,\"l\",function(){return r}),a.d(e,\"s\",function(){return n}),a.d(e,\"h\",function(){return i}),a.d(e,\"b\",function(){return s}),a.d(e,\"r\",function(){return l}),a.d(e,\"f\",function(){return u}),a.d(e,\"c\",function(){return c}),a.d(e,\"p\",function(){return d}),a.d(e,\"m\",function(){return p}),a.d(e,\"n\",function(){return f}),a.d(e,\"o\",function(){return m}),a.d(e,\"q\",function(){return v}),a.d(e,\"u\",function(){return h}),a.d(e,\"a\",function(){return g}),a.d(e,\"t\",function(){return w}),a.d(e,\"i\",function(){return b}),a.d(e,\"e\",function(){return _}),a.d(e,\"w\",function(){return k}),a.d(e,\"k\",function(){return C}),a.d(e,\"d\",function(){return T}),a.d(e,\"v\",function(){return $}),a.d(e,\"j\",function(){return S}),a.d(e,\"g\",function(){return j});var o=a(\"t3Un\");function r(t){return Object(o.a)({url:\"/staffs\",method:\"get\",params:t})}function n(t){return Object(o.a)({url:\"/staff/initialInfo\",method:\"get\",params:t})}function i(t){return Object(o.a)({url:\"/staff/initialInfo\",method:\"post\",data:t})}function s(t){return Object(o.a)({url:\"/staff/generalInfo\",method:\"patch\",data:t})}function l(){return Object(o.a)({url:\"/staffInfoItem\",method:\"get\"})}function u(t){return Object(o.a)({url:\"/staffWorkflow/apply\",method:\"post\",data:t})}function c(t){return Object(o.a)({url:\"/staffs/bindRole\",method:\"post\",data:t})}function d(){return Object(o.a)({url:\"/personnelApprover\",method:\"get\"})}function p(){return Object(o.a)({url:\"/department\",method:\"get\"})}function f(t){return Object(o.a)({url:\"/staff/limit\",method:\"get\",params:t})}function m(){return Object(o.a)({url:\"/staffs/personal/info\",method:\"get\"})}function v(t){return Object(o.a)({url:\"/staffs/\"+t+\"/info\",method:\"get\"})}function h(t){return Object(o.a)({url:\"staffs/personal/baseInfo\",method:\"patch\",data:t})}function g(t){return Object(o.a)({url:\"staffs/personal/eduInfo\",method:\"post\",data:t})}function w(t){return Object(o.a)({url:\"staffs/personal/eduInfo\",method:\"patch\",data:t})}function b(t){return Object(o.a)({url:\"staffs/personal/eduInfo/\"+t,method:\"delete\"})}var y=\"staffs/personal/workRecord\";function _(t){return Object(o.a)({url:y,method:\"post\",data:t})}function k(t){return Object(o.a)({url:y,method:\"patch\",data:t})}function C(t){return Object(o.a)({url:y+\"/\"+t,method:\"delete\"})}var I=\"staffs/personal/trainRecord\";function T(t){return Object(o.a)({url:I,method:\"post\",data:t})}function $(t){return Object(o.a)({url:I,method:\"patch\",data:t})}function S(t){return Object(o.a)({url:I+\"/\"+t,method:\"delete\"})}function j(t){return Object(o.a)({url:\"/staffWorkflow/applicant\",method:\"get\",params:t})}},vIF7:function(t,e,a){\"use strict\";a.r(e);var o=a(\"Mz3J\"),r=a(\"0UvC\"),n=a(\"uJMD\"),i=(a(\"L2JU\"),{data:function(){return{form:{flowType:\"\",workName:\"\",startDate:\"\",startTime:\"\",endTime:\"\",duration:\"\",proveImg:\"string\",content:\"\",approver:\"\",applicationTime:Object(n.b)(new Date,\"yyyy-MM-dd hh:mm:ss\"),approvalStatus:0,dayStatus:\"\"},uploadConfig:{header:{Authorization:this.$store.state.user.token},action:Object(r.d)(),fileList:[],uploadList:[]},applyTypes:[],approves:[],dialogImageUrl:\"\",dialogVisible:!1,header:{Authorization:this.$store.state.user.token},rules:{flowType:[{required:!0,message:\"请选择请假类型\",trigger:\"change\"}],workName:[{required:!0,message:\"请输入申请名称\",trigger:\"blur\"}],startDate:[{required:!0,message:\"请选择开始日期\",trigger:\"blur\"}],dayStatus:[{required:!0,message:\"请选择开始时间\",trigger:\"blur\"}],endTime:[{required:!0,message:\"请选择结束时间\",trigger:\"blur\"}],duration:[{required:!0,message:\"请输入请假时间\",trigger:\"blur\"}],content:[{required:!0,message:\"请输入申请内容\",trigger:\"blur\"}],approver:[{required:!0,message:\"请选择审批人\",trigger:\"change\"}]}}},mounted:function(){this.initView()},methods:{initView:function(){var t=this;Object(r.c)().then(function(e){200==e.data.code?t.applyTypes=e.data.data.map(function(t){return{value:t.code,label:t.name}}):t.$message.error(t.data.msg)}).catch(function(e){t.$message.error(e)}),Object(r.b)().then(function(e){var a=t;e.data.data.forEach(function(t,e){t.empNo!=a.$store.state.user.empNo&&a.approves.push({value:t.empNo,label:t.name})})}).catch(function(e){t.$message.error(e)})},onSubmit:function(){var t=this;this.$refs.addApplyForm.validate(function(e){if(!e)return console.log(\"error submit!!\"),!1;t.form.proveImg=t.uploadConfig.uploadList.join(\";\"),Object(r.g)(t.form).then(function(e){200!=e.data.code?t.$message.error(e.data.msg):(t.$message({type:\"success\",message:e.data.msg}),t.$refs.addApplyForm.resetFields(),t.$emit(\"callback\",1))}).catch(function(e){t.$message.error(e)})})},handleChangeFlowType:function(){},handleRemove:function(t,e){var a=this;this.uploadConfig.uploadList.forEach(function(e,o){e==t.response.data&&(console.log(\"del============\"+e.url),a.uploadConfig.uploadList.splice(o,1))}),console.log(this.uploadConfig.uploadList.join(\";\"))},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0,console.log(this.dialogImageUrl)},handleUploadSuccess:function(t,e,a){2e3==t.code&&this.uploadConfig.uploadList.push(t.data)},handleUploadError:function(t,e,a){this.$message.error(t)},changeDate:function(){if(this.form.startDate&&this.form.dayStatus&&this.form.duration){var t=new Date(this.form.startDate),e=new Date(this.form.startDate),a=0,o=10*this.form.duration%10;console.log(o),\"上午\"==this.form.dayStatus?(t.setHours(8),t.setMinutes(30)):(t.setHours(12),t.setMinutes(0)),o>1?\"上午\"==this.form.dayStatus?(e.setHours(12),e.setMinutes(0)):(e.setHours(18),e.setMinutes(0)):(console.log(this.form.dayStatus+\"============\"),a--,\"上午\"==this.form.dayStatus?(e.setHours(18),e.setMinutes(0)):(e.setHours(12),e.setMinutes(0))),e.setDate(e.getDate()+Math.floor(1*this.form.duration+a)),this.form.endTime=Object(n.b)(e,\"yyyy-MM-dd hh:mm:ss\"),this.form.startTime=Object(n.b)(t,\"yyyy-MM-dd hh:mm:ss\")}}}}),s=(a(\"jLDv\"),a(\"KHd+\")),l=Object(s.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"attendance-apply\"},[a(\"div\",{staticClass:\"form-box\"},[a(\"div\",{staticClass:\"form-container\"},[a(\"el-form\",{ref:\"addApplyForm\",attrs:{\"status-icon\":\"\",model:t.form,rules:t.rules,\"label-width\":\"150px\"}},[a(\"el-form-item\",{attrs:{label:\"申请类型\",prop:\"flowType\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:t.form.flowType,callback:function(e){t.$set(t.form,\"flowType\",e)},expression:\"form.flowType\"}},t._l(t.applyTypes,function(t){return a(\"el-option\",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"申请名称\",prop:\"workName\"}},[a(\"el-input\",{model:{value:t.form.workName,callback:function(e){t.$set(t.form,\"workName\",e)},expression:\"form.workName\"}})],1),t._v(\" \"),a(\"el-row\",[a(\"el-col\",{attrs:{span:11}},[a(\"el-form-item\",{attrs:{label:\"开始时间\",prop:\"startDate\"}},[a(\"el-date-picker\",{attrs:{type:\"date\",\"value-format\":\"yyyy-MM-dd\",change:t.changeDate(),placeholder:\"选择日期\"},model:{value:t.form.startDate,callback:function(e){t.$set(t.form,\"startDate\",e)},expression:\"form.startDate\"}})],1)],1),t._v(\" \"),a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{prop:\"dayStatus\"}},[a(\"el-select\",{attrs:{placeholder:\"选择时间\"},model:{value:t.form.dayStatus,callback:function(e){t.$set(t.form,\"dayStatus\",e)},expression:\"form.dayStatus\"}},[a(\"el-option\",{attrs:{label:\"上午\",value:\"上午\"}}),t._v(\" \"),a(\"el-option\",{attrs:{label:\"下午\",value:\"下午\"}})],1)],1)],1)],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"请假时间\",prop:\"duration\"}},[a(\"el-input-number\",{attrs:{step:.5,min:.5},model:{value:t.form.duration,callback:function(e){t.$set(t.form,\"duration\",e)},expression:\"form.duration\"}}),t._v(\"天\\n\\t\\t\\t\\t\")],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"图片\",prop:\"proveImg\"}},[a(\"el-upload\",{attrs:{action:t.uploadConfig.action,\"list-type\":\"picture-card\",headers:t.header,\"file-list\":t.uploadConfig.fileList,\"on-success\":t.handleUploadSuccess,\"on-error\":t.handleUploadError,\"on-preview\":t.handlePictureCardPreview,\"on-remove\":t.handleRemove}},[a(\"i\",{staticClass:\"el-icon-plus\"})]),t._v(\" \"),a(\"el-dialog\",{attrs:{visible:t.dialogVisible},on:{\"update:visible\":function(e){t.dialogVisible=e}}},[a(\"img\",{attrs:{width:\"100%\",src:t.dialogImageUrl,alt:\"\"}})])],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"申请内容\",prop:\"content\"}},[a(\"el-input\",{attrs:{type:\"textarea\"},model:{value:t.form.content,callback:function(e){t.$set(t.form,\"content\",e)},expression:\"form.content\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"审批人\",prop:\"approver\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:t.form.approver,callback:function(e){t.$set(t.form,\"approver\",e)},expression:\"form.approver\"}},t._l(t.approves,function(t){return a(\"el-option\",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(\" \"),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.onSubmit}},[t._v(\"立即创建\")])],1)],1)],1)])])},[],!1,null,null,null);l.options.__file=\"workflowApplyForm.vue\";var u=l.exports,c=a(\"wo52\"),d=a(\"P2sY\"),p=a.n(d),f={name:\"workflowPreview\",props:[\"serialNumber\",\"workflowInfo\"],data:function(){return{form:{applicationTime:Object(n.b)(new Date,\"yyyy-MM-dd hh:mm:ss\"),approvalStatus:0,approver:0,content:\"内容\",startTime:\"\",endTime:\"\",duration:\"\",flowType:\"\",proveImg:\"string\",workName:\"\",serialNumber:0},uploadConfig:{header:{Authorization:this.$store.state.user.token},action:Object(r.d)(),uploadList:[],fileList:[]},applyTypes:[],approves:[],dialogImageUrl:\"\",dialogVisible:!1}},mounted:function(){var t=this;this.form=p()({},this.workflowInfo),this.form.proveImg=this.form.proveImg.split(\"|\"),this.uploadConfig.uploadList=[],this.form.proveImg&&this.form.proveImg.forEach(function(e){e.trim()&&t.uploadConfig.uploadList.push({url:\"http://172.18.19.3:8066/\"+e})}),this.initView()},methods:{initView:function(){var t=this;Object(r.c)().then(function(e){200==e.data.code?t.applyTypes=e.data.data.map(function(t){return{value:t.code,label:t.name}}):t.$message.error(t.data.msg)}).catch(function(e){t.$message.error(e)}),Object(r.b)().then(function(e){200==e.data.code?t.approves=e.data.data.map(function(t){return{value:t.empNo,label:t.name}}):t.$message.error(t.data.msg)}).catch(function(e){t.$message.error(e)})},onSubmit:function(){var t=this;this.form.proveImg=this.uploadConfig.uploadList.map(function(t){return t.url.replace(/http:\\/\\/172.18.19.3:8066\\//,\"\")}),this.form.proveImg=this.form.proveImg.join(\"|\"),console.log(this.form);var e={serialNumber:this.workflowInfo.serialNumber,proveImg:this.form.proveImg};console.log(e),Object(r.a)(e).then(function(e){200!=e.data.code?t.$message.error(e.data.msg):(t.$message({type:\"success\",message:e.data.msg}),t.$refs.form.resetFields(),t.$emit(\"callback\",1))}).catch(function(e){t.$message.error(e)})},handleChangeFlowType:function(){},handleRemove:function(t,e){var a=this;this.uploadConfig.uploadList.forEach(function(e,o){e.url==t.url&&(console.log(\"del============\"+e.url),a.uploadConfig.uploadList.splice(o,1))})},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0,console.log(this.dialogImageUrl)},handleUploadSuccess:function(t,e,a){2e3==t.code&&this.uploadConfig.uploadList.push({url:\"http://172.18.19.3:8066/\"+t.data})},handleUploadError:function(t,e,a){}},watch:{workflowInfo:function(){var t=this;this.form=p()({},this.form,this.workflowInfo),this.form.proveImg=this.form.proveImg.split(\"|\"),this.uploadConfig.uploadList=[],this.form.proveImg&&this.form.proveImg.forEach(function(e){e.trim()&&t.uploadConfig.uploadList.push({url:\"http://172.18.19.3:8066/\"+e})})}}},m=(a(\"HBWR\"),Object(s.a)(f,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"workflow-preview\"},[a(\"div\",{staticClass:\"form-box\"},[a(\"div\",{staticClass:\"form-container\"},[a(\"el-form\",{ref:\"form\",attrs:{model:t.form,\"label-width\":\"10%\"}},[a(\"el-form-item\",{attrs:{label:\"图片\",prop:\"proveImg\"}},[a(\"el-upload\",{attrs:{action:t.uploadConfig.action,\"list-type\":\"picture-card\",\"file-list\":t.uploadConfig.uploadList,\"on-success\":t.handleUploadSuccess,\"on-error\":t.handleUploadError,\"on-preview\":t.handlePictureCardPreview,\"on-remove\":t.handleRemove}},[a(\"i\",{staticClass:\"el-icon-plus\"})]),t._v(\" \"),a(\"el-dialog\",{attrs:{visible:t.dialogVisible},on:{\"update:visible\":function(e){t.dialogVisible=e}}},[a(\"img\",{attrs:{width:\"100%\",src:t.dialogImageUrl,alt:\"\"}})])],1),t._v(\" \"),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.onSubmit}},[t._v(\"保存\")])],1)],1)],1)])])},[],!1,null,null,null));m.options.__file=\"workflowEdit.vue\";var v=m.exports,h={components:{pagination:o.a,workflowApplyForm:u,workflowPreview:c.a,workflowEdit:v},data:function(){return{tableHead:[{prop:\"serialNumber\",label:\"编号\",width:100},{prop:\"workName\",label:\"申请名称\",width:200},{prop:\"startTime\",label:\"开始时间\",width:200},{prop:\"endTime\",label:\"结束时间\",width:200},{prop:\"duration\",label:\"申请时长\",width:100},{prop:\"content\",label:\"申请内容\"},{prop:\"approverName\",label:\"审批人\",width:200}],paginate:{limit:10,total:0,currentPage:1,background:!0,layout:\"prev, pager, next\"},datePickerConfig:{disabledDate:function(t){return t.getTime()>Date.now()}},workflowPreview:{serialNumber:\"\",workflowPreviewBoxStatus:!1,previewIndex:\"\"},workflowEdit:{serialNumber:\"\",workflowEditBoxStatus:!1,editIndex:\"\"},list:[],query:{selectedDate:\"\",flowType:[],approvalStatus:\"\"},applyTypes:[],workflowInsert:!1}},mounted:function(){var t=this;this.initView(),Object(r.c)().then(function(e){200==e.data.code?t.applyTypes=e.data.data.map(function(t){return{value:t.code,label:t.name}}):t.$message.error(t.data.msg)}).catch(function(e){t.$message.error(e)})},methods:{initView:function(){var t=this;this.query.limit=this.paginate.limit,this.query.page=this.paginate.currentPage,Object(r.e)(this.query).then(function(e){200==e.data.code?(t.paginate.limit=e.data.data.pageSize,t.paginate.total=e.data.data.total,t.paginate.currentPage=e.data.data.pageNum,t.list=e.data.data.list,console.log(t.list)):t.$message.error(e.data.msg)}).catch(function(e){t.$message.error(res.data.msg)})},changeDate:function(t){this.query.selectedDate=t},changePage:function(t){this.initView(),console.log(t)},handleChangeAppleType:function(){},search:function(){this.initView()},addApply:function(){this.workflowInsert=!0},submitCallback:function(){this.initView(),this.workflowInsert=!1},editRow:function(t,e){this.workflowEdit.serialNumber=e,this.workflowEdit.editIndex=t,this.workflowEdit.workflowEditBoxStatus=!0},previewRow:function(t,e){this.workflowPreview.serialNumber=e,this.workflowPreview.previewIndex=t,this.workflowPreview.workflowPreviewBoxStatus=!0},resetForm:function(){var t=this;this.$nextTick(function(){t.$refs.addFormBox&&(t.$refs.addFormBox.$refs.addApplyForm.resetFields(),t.$refs.addFormBox.uploadConfig.fileList=[],t.$refs.addFormBox.uploadConfig.uploadList=[])})}}},g=(a(\"anrG\"),Object(s.a)(h,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"attendance-apply-list\"},[a(\"div\",{staticClass:\"controller-bar\"},[a(\"div\",{staticClass:\"operation\"},[a(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-plus\"},on:{click:t.addApply}},[t._v(\"申请\")])],1),t._v(\" \"),a(\"div\",{staticClass:\"search-bar\"},[a(\"div\",{staticClass:\"block\"},[a(\"span\",{staticClass:\"demonstration\"},[t._v(\"申请日期:\")]),t._v(\" \"),a(\"el-date-picker\",{attrs:{type:\"date\",placeholder:\"选择日期\",\"value-format\":\"yyyy-MM-dd\",\"picker-options\":t.datePickerConfig},on:{change:t.changeDate},model:{value:t.query.selectedDate,callback:function(e){t.$set(t.query,\"selectedDate\",e)},expression:\"query.selectedDate\"}})],1),t._v(\" \"),a(\"div\",{staticClass:\"apply-type-select\"},[a(\"span\",{staticClass:\"demonstration\"},[t._v(\"申请类型:\")]),t._v(\" \"),a(\"el-select\",{attrs:{clearable:\"\",placeholder:\"请选择\"},model:{value:t.query.flowType,callback:function(e){t.$set(t.query,\"flowType\",e)},expression:\"query.flowType\"}},t._l(t.applyTypes,function(t){return a(\"el-option\",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(\" \"),a(\"div\",{staticClass:\"approval-status-select\"},[a(\"span\",{staticClass:\"demonstration\"},[t._v(\"审批状态:\")]),t._v(\" \"),a(\"el-select\",{attrs:{clearable:\"\",placeholder:\"请选择\"},model:{value:t.query.approvalStatus,callback:function(e){t.$set(t.query,\"approvalStatus\",e)},expression:\"query.approvalStatus\"}},[a(\"el-option\",{attrs:{label:\"待审批\",value:\"0\"}}),t._v(\" \"),a(\"el-option\",{attrs:{label:\"已同意\",value:\"1\"}}),t._v(\" \"),a(\"el-option\",{attrs:{label:\"已拒绝\",value:\"2\"}})],1)],1),t._v(\" \"),a(\"div\",{staticClass:\"search\"},[a(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:t.search}},[t._v(\"搜索\")])],1)])]),t._v(\" \"),a(\"div\",{staticClass:\"main\"},[a(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{\"header-cell-style\":{background:\"#eef1f6\"},border:\"\",data:t.list}},[t._l(t.tableHead,function(t,e){return a(\"el-table-column\",{key:e,attrs:{prop:t.prop,label:t.label,width:t.width}})}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"申请类型\",width:\"100\",prop:\"flowType\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(\"\\n\\t\\t\\t\\t\\t\\n          \\t\\t\\t\\n\\t\\t\\t\\t\\t\"+t._s(e.row.flowType&&t.applyTypes[e.row.flowType-1]?t.applyTypes[e.row.flowType-1].label:\"未知\")+\"\\n\\t\\t\\t\\t\")]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"状态\",width:\"100\",prop:\"approvalStatus\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[0==e.row.approvalStatus?a(\"el-tag\",[t._v(\"等待审批\")]):t._e(),t._v(\" \"),1==e.row.approvalStatus?a(\"el-tag\",{attrs:{type:\"success\"}},[t._v(\"已通过\")]):t._e(),t._v(\" \"),2==e.row.approvalStatus?a(\"el-tag\",{attrs:{type:\"danger\"}},[t._v(\"未通过\")]):t._e()]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"操作\",width:\"160\",prop:\"approvalStatus\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"el-button\",{attrs:{type:\"primary\",size:\"small\",icon:\"el-icon-view\",circle:\"\"},on:{click:function(a){t.previewRow(e.$index,e.row.serialNumber)}}}),t._v(\" \"),0==e.row.approvalStatus?a(\"el-button\",{attrs:{type:\"success\",size:\"small\"},on:{click:function(a){t.editRow(e.$index,e.row.serialNumber)}}},[t._v(\"添加材料\")]):t._e()]}}])})],2),t._v(\" \"),a(\"div\",{staticClass:\"paginate\"},[a(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.paginate.total>0,expression:\"paginate.total>0\"}],attrs:{total:t.paginate.total,page:t.paginate.currentPage,limit:t.paginate.limit,layout:t.paginate.layout},on:{\"update:page\":function(e){t.$set(t.paginate,\"currentPage\",e)},\"update:limit\":function(e){t.$set(t.paginate,\"limit\",e)},pagination:t.changePage}})],1)],1),t._v(\" \"),a(\"el-dialog\",{attrs:{title:\"新增申请\",visible:t.workflowInsert,close:t.resetForm()},on:{\"update:visible\":function(e){t.workflowInsert=e}}},[a(\"workflow-apply-form\",{ref:\"addFormBox\",on:{callback:t.submitCallback}})],1),t._v(\" \"),a(\"el-dialog\",{attrs:{title:\"预览申请\",visible:t.workflowPreview.workflowPreviewBoxStatus},on:{\"update:visible\":function(e){t.$set(t.workflowPreview,\"workflowPreviewBoxStatus\",e)}}},[a(\"workflow-preview\",{attrs:{serialNumber:t.workflowPreview.serialNumber,workflowInfo:t.list[t.workflowPreview.previewIndex]}})],1),t._v(\" \"),a(\"el-dialog\",{attrs:{title:\"修改申请\",visible:t.workflowEdit.workflowEditBoxStatus},on:{\"update:visible\":function(e){t.$set(t.workflowEdit,\"workflowEditBoxStatus\",e)}}},[a(\"workflow-edit\",{attrs:{workflowInfo:t.list[t.workflowEdit.editIndex],serialNumber:t.workflowEdit.serialNumber},on:{callback:t.submitCallback}})],1)],1)},[],!1,null,null,null));g.options.__file=\"workflowApplicant.vue\";e.default=g.exports},wo52:function(t,e,a){\"use strict\";var o=a(\"P2sY\"),r=a.n(o),n=(a(\"tOpQ\"),a(\"0UvC\")),i=a(\"kLgE\"),s=(a(\"CAgN\"),{name:\"workflowPreview\",data:function(){return{data:{},applyTypes:[]}},props:[\"serialNumber\",\"workflowInfo\"],created:function(){var t=this;Object(n.c)().then(function(e){200==e.data.code?t.applyTypes=e.data.data.map(function(t){return{value:t.code,label:t.name}}):t.$message.error(t.data.msg)}).catch(function(e){t.$message.error(e)}),this.data=r()({},this.workflowInfo),this.data.proveImg?this.data.proveImg=this.data.proveImg.split(\"|\"):this.data.proveImg=\"\"},methods:{showWorkflowInfo:function(){},preview:function(){new i.a(document.getElementById(\"images\"))}},computed:{},watch:{workflowInfo:function(){this.data=r()({},this.workflowInfo),this.data.proveImg?this.data.proveImg=this.data.proveImg.split(\"|\"):this.data.proveImg=\"\"}}}),l=(a(\"nuTx\"),a(\"KHd+\")),u=Object(l.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"workflow-preview\"},[a(\"div\",{staticClass:\"main\"},[a(\"div\",{staticClass:\"cate-title\"},[t._v(\"\\n            基本信息\\n        \")]),t._v(\" \"),a(\"ul\",[a(\"li\",[a(\"div\",{staticClass:\"name\"},[t._v(\"申请人：\")]),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[t._v(t._s(t.data.applicantName))])]),t._v(\" \"),a(\"li\",[a(\"div\",{staticClass:\"name\"},[t._v(\"申请名称：\")]),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[t._v(t._s(t.data.workName))])]),t._v(\" \"),a(\"li\",[a(\"div\",{staticClass:\"name\"},[t._v(\"请假类型：\")]),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[t._v(\"\\n                    \"+t._s(t.data.flowType&&t.applyTypes[t.data.flowType-1]?t.applyTypes[t.data.flowType-1].label:\"未知\")+\"\\n                \")])]),t._v(\" \"),a(\"li\",[a(\"div\",{staticClass:\"name\"},[t._v(\"开始时间：\")]),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[t._v(t._s(t.data.startTime))])]),t._v(\" \"),a(\"li\",[a(\"div\",{staticClass:\"name\"},[t._v(\"结束时间：\")]),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[t._v(t._s(t.data.endTime))])]),t._v(\" \"),a(\"li\",[a(\"div\",{staticClass:\"name\"},[t._v(\"请假时长：\")]),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[t._v(t._s(t.data.duration))])]),t._v(\" \"),a(\"li\",[a(\"div\",{staticClass:\"name\"},[t._v(\"图片：\")]),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[t.data.proveImg?a(\"ul\",{staticClass:\"image-box\",attrs:{id:\"images\"}},t._l(t.data.proveImg,function(e,o){return a(\"li\",{key:o},[a(\"img\",{attrs:{src:\"http://172.18.19.3:8066/\"+e,alt:\"\",width:\"120\"},on:{click:t.preview}})])})):t._e()])]),t._v(\" \"),a(\"li\",[a(\"div\",{staticClass:\"name\"},[t._v(\"请假说明：\")]),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[t._v(t._s(t.data.content))])]),t._v(\" \"),a(\"li\",[a(\"div\",{staticClass:\"name\"},[t._v(\"审批状态：\")]),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[t._v(t._s(2==t.data.approvalStatus?\"未通过\":1==t.data.approvalStatus?\"已通过\":\"等待审批\"))])]),t._v(\" \"),a(\"li\",[a(\"div\",{staticClass:\"name\"},[t._v(\"审批人：\")]),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[t._v(t._s(t.data.approverName))])]),t._v(\" \"),a(\"li\",[a(\"div\",{staticClass:\"name\"},[t._v(\"申请时间：\")]),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[t._v(t._s(t.data.applicationTime))])]),t._v(\" \"),a(\"li\",[a(\"div\",{staticClass:\"name\"},[t._v(\"审批时间：\")]),t._v(\" \"),a(\"div\",{staticClass:\"content\"},[t._v(t._s(t.data.approvalTime))])])]),t._v(\" \"),t.data.buchong?a(\"div\",{staticClass:\"buchong\"},[a(\"div\",{staticClass:\"cate-title cate-border\"},[t._v(\"\\n                补充材料\\n            \")]),t._v(\" \"),t._m(0)]):t._e()])])},[function(){var t=this.$createElement,e=this._self._c||t;return e(\"ul\",[e(\"li\",[e(\"div\",{staticClass:\"name\"},[this._v(\"name：\")]),this._v(\" \"),e(\"div\",{staticClass:\"content\"},[this._v(\"value\")])])])}],!1,null,\"0aaf2003\",null);u.options.__file=\"workflowPreview.vue\";e.a=u.exports},xZEM:function(t,e,a){}}]);","extractedComments":[]}