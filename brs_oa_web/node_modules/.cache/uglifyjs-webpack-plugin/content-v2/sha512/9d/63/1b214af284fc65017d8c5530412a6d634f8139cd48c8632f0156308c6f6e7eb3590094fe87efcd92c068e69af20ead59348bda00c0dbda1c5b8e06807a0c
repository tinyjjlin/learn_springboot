{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-3817\"],{\"8/wp\":function(e,t,i){\"use strict\";i.r(t);var o=i(\"QPH1\"),n={name:\"roleMng\",components:{Pagination:i(\"Mz3J\").a},data:function(){return{title:\"权限管理\",buttonPrivilage:\"新增\",privilageList:[],dialogFormVisible:!1,privilageForm:{permissionNo:\"\",permissionName:\"\",permissionCode:\"\",isEnabled:\"1\"},ruleForm:{permissionName:[{required:!0,message:\"权限名称不能为空！\",trigger:\"blur\"}],permissionCode:[{required:!0,message:\"权限路径不能为空！\",trigger:\"blur\"}]},formLabelWidth:\"100px\",formDialogWidth:\"550px\",searchText:\"\",listQuery:{page:1,limit:20,importance:void 0,title:void 0,type:void 0,sort:\"+id\"},total:0,listLoading:!0,tableData:null}},created:function(){this.getList()},methods:{getList:function(){this.listLoading=!0,this.getListPrivilage(this.listQuery)},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleDelete:function(e,t){var i=this;this.$confirm(\"此操作将永久删除该权限，是否继续？\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){Object(o.b)(t.permissionNo).then(function(t){200==t.data.code&&(i.privilageList.splice(e,1),i.message(\"success\",\"删除成功！\"))}).catch(function(e){i.message(\"error\",e)})}).catch(function(){i.message(\"info\",\"已取消删除\")})},addPrivilage12:function(){this.dialogFormVisible=!0},handleEdit:function(e,t){this.dialogFormVisible=!0;var i=this;this.privilageList.forEach(function(e){e.permissionNo==t.permissionNo&&(i.privilageForm={permissionName:e.permissionName,permissionCode:e.permissionCode,isEnabled:e.isEnabled.toString(),permissionNo:e.permissionNo})})},cancel:function(){this.dialogFormVisible=!1,this.message(\"取消添加权限\"),this.clearForm(\"\",\"\",\"1\",\"\")},submit:function(e){var t=this;this.$refs.privilageForm.validate(function(i){i&&(\"\"==t.privilageForm.permissionNo?Object(o.a)(e).then(function(e){t.getListPrivilage(t.listQuery),t.dialogFormVisible=!1,t.clearForm(\"\",\"\",\"1\",\"\"),t.message(\"success\",\"权限添加成功\")}):Object(o.c)(e).then(function(e){200==e.data.code&&(t.getListPrivilage(t.listQuery),t.dialogFormVisible=!1,t.clearForm(\"\",\"\",\"1\",\"\"),t.message(\"success\",\"权限修改成功\"))}).catch(function(e){console.log(e)}))})},message:function(e,t){this.$message({type:e,message:t})},clearForm:function(e,t,i,o){this.privilageForm={permissionName:e,permissionCode:t,isEnabled:i,permissionNo:o}},getListPrivilage:function(e){var t=this;Object(o.d)(e).then(function(e){t.privilageList=e.data.data.list,t.total=e.data.data.total})}}},a=(i(\"JRvR\"),i(\"KHd+\")),r=Object(a.a)(n,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"roleMng\"},[i(\"div\",{staticClass:\"content\"},[i(\"div\",{staticClass:\"header\"},[i(\"el-row\",[i(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-plus\"},on:{click:e.addPrivilage12}},[e._v(e._s(e.buttonPrivilage))])],1)],1),e._v(\" \"),i(\"div\",{staticClass:\"main\"},[i(\"el-table\",{ref:\"multipleTable\",attrs:{data:e.privilageList,\"tooltip-effect\":\"dark\"}},[i(\"el-table-column\",{attrs:{prop:\"permissionNo\",label:\"编号\",width:\"120\"}}),e._v(\" \"),i(\"el-table-column\",{attrs:{prop:\"permissionName\",label:\"权限名称\",width:\"300\"}}),e._v(\" \"),i(\"el-table-column\",{attrs:{prop:\"permissionCode\",label:\"权限标识\",width:\"300\"}}),e._v(\" \"),i(\"el-table-column\",{attrs:{prop:\"isEnabled\",label:\"是否有效\",width:\"120\"}}),e._v(\" \"),i(\"el-table-column\",{attrs:{label:\"操作\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[i(\"el-button\",{attrs:{icon:\"el-icon-edit\"},on:{click:function(i){e.handleEdit(t.$index,t.row)}}},[e._v(\"编辑\")]),e._v(\" \"),i(\"el-button\",{attrs:{type:\"danger\"},on:{click:function(i){e.handleDelete(t.$index,t.row)}}},[e._v(\"删除\")])]}}])})],1)],1),e._v(\" \"),i(\"div\",{staticClass:\"footer\"},[i(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.total,expression:\"total\"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{\"update:page\":function(t){e.$set(e.listQuery,\"page\",t)},\"update:limit\":function(t){e.$set(e.listQuery,\"limit\",t)},pagination:e.getList}})],1)]),e._v(\" \"),i(\"el-dialog\",{attrs:{title:\"添加权限\",width:e.formDialogWidth,visible:e.dialogFormVisible},on:{\"update:visible\":function(t){e.dialogFormVisible=t}}},[i(\"el-form\",{ref:\"privilageForm\",attrs:{model:e.privilageForm,rules:e.ruleForm}},[i(\"input\",{attrs:{type:\"hidden\",name:e.privilageForm.permissionNo}}),e._v(\" \"),i(\"el-form-item\",{attrs:{label:\"权限名称\",\"label-width\":e.formLabelWidth,prop:\"permissionName\"}},[i(\"el-input\",{attrs:{width:\"300px\",placeholder:\"请输入权限名称\"},model:{value:e.privilageForm.permissionName,callback:function(t){e.$set(e.privilageForm,\"permissionName\",t)},expression:\"privilageForm.permissionName\"}})],1),e._v(\" \"),i(\"el-form-item\",{attrs:{label:\"权限地址\",\"label-width\":e.formLabelWidth,prop:\"permissionCode\"}},[i(\"el-input\",{attrs:{placeholder:\"请输入权限地址，例：salaryReportView\"},model:{value:e.privilageForm.permissionCode,callback:function(t){e.$set(e.privilageForm,\"permissionCode\",t)},expression:\"privilageForm.permissionCode\"}})],1),e._v(\" \"),i(\"el-form-item\",{attrs:{label:\"是否有效\",\"label-width\":e.formLabelWidth}},[i(\"el-radio-group\",{model:{value:e.privilageForm.isEnabled,callback:function(t){e.$set(e.privilageForm,\"isEnabled\",t)},expression:\"privilageForm.isEnabled\"}},[i(\"el-radio\",{attrs:{label:\"1\"}},[e._v(\"有效\")]),e._v(\" \"),i(\"el-radio\",{attrs:{label:\"0\"}},[e._v(\"无效\")])],1)],1)],1),e._v(\" \"),i(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[i(\"el-button\",{attrs:{plain:!0},on:{click:e.cancel}},[e._v(\"取 消\")]),e._v(\" \"),i(\"el-button\",{attrs:{plain:!0,type:\"primary\"},on:{click:function(t){e.submit(e.privilageForm)}}},[e._v(\"确 定\")])],1)],1)],1)},[],!1,null,\"11eb2d34\",null);r.options.__file=\"index.vue\";t.default=r.exports},JRvR:function(e,t,i){\"use strict\";var o=i(\"YKCd\");i.n(o).a},Lcw6:function(e,t,i){\"use strict\";var o=i(\"qULk\");i.n(o).a},Mz3J:function(e,t,i){\"use strict\";Math.easeInOutQuad=function(e,t,i,o){return(e/=o/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t};var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function n(e,t,i){var n=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,a=e-n,r=0;t=void 0===t?500:t;!function e(){r+=20,function(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}(Math.easeInOutQuad(r,n,a,t)),r<t?o(e):i&&\"function\"==typeof i&&i()}()}var a={name:\"Pagination\",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:\"total, sizes, prev, pager, next, jumper\"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit(\"update:page\",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit(\"update:limit\",e)}}},methods:{handleSizeChange:function(e){this.$emit(\"pagination\",{page:this.currentPage,limit:e}),this.autoScroll&&n(0,800)},handleCurrentChange:function(e){this.$emit(\"pagination\",{page:e,limit:this.pageSize}),this.autoScroll&&n(0,800)}}},r=(i(\"Lcw6\"),i(\"KHd+\")),l=Object(r.a)(a,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"pagination-container\",class:{hidden:e.hidden}},[i(\"el-pagination\",e._b({attrs:{background:e.background,\"current-page\":e.currentPage,\"page-size\":e.pageSize,layout:e.layout,\"page-sizes\":e.pageSizes,total:e.total},on:{\"update:currentPage\":function(t){e.currentPage=t},\"update:pageSize\":function(t){e.pageSize=t},\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}},\"el-pagination\",e.$attrs,!1))],1)},[],!1,null,\"331ed7d4\",null);l.options.__file=\"index.vue\";t.a=l.exports},QPH1:function(e,t,i){\"use strict\";i.d(t,\"d\",function(){return n}),i.d(t,\"a\",function(){return a}),i.d(t,\"c\",function(){return r}),i.d(t,\"b\",function(){return l}),i.d(t,\"e\",function(){return s});var o=i(\"t3Un\");function n(e){return Object(o.a)({url:\"/permission\",method:\"get\",params:e})}function a(e){return Object(o.a)({url:\"/permission\",method:\"post\",data:e})}function r(e){return Object(o.a)({url:\"/permission\",method:\"patch\",data:e})}function l(e){return Object(o.a)({url:\"/permission/\"+e,method:\"delete\"})}function s(e){return Object(o.a)({url:\"/permission/roleNo?roleNo=\"+e,method:\"get\"})}},YKCd:function(e,t,i){},qULk:function(e,t,i){}}]);","extractedComments":[]}