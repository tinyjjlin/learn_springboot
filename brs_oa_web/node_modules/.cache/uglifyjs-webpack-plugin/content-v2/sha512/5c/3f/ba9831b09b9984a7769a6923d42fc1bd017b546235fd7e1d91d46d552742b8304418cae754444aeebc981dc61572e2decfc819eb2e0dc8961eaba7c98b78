{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-4e44\"],{Lcw6:function(t,e,a){\"use strict\";var n=a(\"qULk\");a.n(n).a},Lz8e:function(t,e,a){\"use strict\";var n=a(\"X/1l\");a.n(n).a},Mz3J:function(t,e,a){\"use strict\";Math.easeInOutQuad=function(t,e,a,n){return(t/=n/2)<1?a/2*t*t+e:-a/2*(--t*(t-2)-1)+e};var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function o(t,e,a){var o=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,l=t-o,r=0;e=void 0===e?500:e;!function t(){r+=20,function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}(Math.easeInOutQuad(r,o,l,e)),r<e?n(t):a&&\"function\"==typeof a&&a()}()}var l={name:\"Pagination\",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:\"total, sizes, prev, pager, next, jumper\"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit(\"update:page\",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit(\"update:limit\",t)}}},methods:{handleSizeChange:function(t){this.$emit(\"pagination\",{page:this.currentPage,limit:t}),this.autoScroll&&o(0,800)},handleCurrentChange:function(t){this.$emit(\"pagination\",{page:t,limit:this.pageSize}),this.autoScroll&&o(0,800)}}},r=(a(\"Lcw6\"),a(\"KHd+\")),i=Object(r.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"pagination-container\",class:{hidden:t.hidden}},[a(\"el-pagination\",t._b({attrs:{background:t.background,\"current-page\":t.currentPage,\"page-size\":t.pageSize,layout:t.layout,\"page-sizes\":t.pageSizes,total:t.total},on:{\"update:currentPage\":function(e){t.currentPage=e},\"update:pageSize\":function(e){t.pageSize=e},\"size-change\":t.handleSizeChange,\"current-change\":t.handleCurrentChange}},\"el-pagination\",t.$attrs,!1))],1)},[],!1,null,\"331ed7d4\",null);i.options.__file=\"index.vue\";e.a=i.exports},SItF:function(t,e,a){\"use strict\";a.r(e);var n=a(\"Mz3J\"),o=a(\"t3Un\");var l={components:{pagination:n.a},data:function(){return{tableHead:[{prop:\"serialNumber\",label:\"编号\",width:100},{prop:\"applicantName\",label:\"申请人\",width:100},{prop:\"firstItem\",label:\"属性一\"},{prop:\"firstItemOldValue\",label:\"旧值\"},{prop:\"firstItemNewValue\",label:\"新值\"},{prop:\"secondItem\",label:\"属性二\"},{prop:\"secondItemOldValue\",label:\"旧值\"},{prop:\"secondItemNewValue\",label:\"新值\"},{prop:\"applyTime\",label:\"申请时间\",width:170},{prop:\"approverName\",label:\"审批人\",width:100}],paginate:{limit:10,total:0,currentPage:1,background:!0,layout:\"prev, pager, next\"},datePickerConfig:{disabledDate:function(t){return t.getTime()>Date.now()}},list:[],query:{selectedDate:null,flowCategory:null,approvalStatus:null},applyTypes:[],dialogFormVisible:!1}},mounted:function(){var t=this;this.initView(),Object(o.a)({url:\"/staffInfoItem\",method:\"get\"}).then(function(e){200==e.data.code?t.applyTypes=e.data.data.map(function(t){return{value:t.code,label:t.description}}):t.$message.error(t.data.msg)}).catch(function(e){t.$message.error(e)})},methods:{initView:function(){var t=this;this.query.page=this.paginate.currentPage,this.query.limit=this.paginate.limit,this.query.selectedDate=this.query.selectedDate||null,this.query.flowCategory=this.query.flowCategory||null,this.query.approvalStatus=this.query.approvalStatus||null,function(t){return Object(o.a)({url:\"/staffWorkflow/approver\",method:\"get\",params:t})}(this.query).then(function(e){console.log(e.data),200==e.data.code?(t.paginate.limit=e.data.data.pageSize,t.paginate.total=e.data.data.total,t.paginate.currentPage=e.data.data.pageNum,t.list=e.data.data.list):t.$message.error(e.data.msg)}).catch(function(e){console.log(e),t.$message.error(res.data.msg)})},changeDate:function(t){this.query.selectedDate=t},changePage:function(t){console.log(t)},handleChangeAppleType:function(){},search:function(){this.initView()},updateWorkflowState:function(t,e){var a=this,n=\"同意\"==e?1:2;console.log(t);var l={serialNumber:t.serialNumber,approvalStatus:n};this.$confirm(\"你确定要\"+e+\"吗?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){(function(t){return Object(o.a)({url:\"/staffWorkflow/approval\",method:\"PATCH\",params:t})})(l).then(function(e){200==e.data.code?(t.approvalStatus=n,a.$message({type:\"success\",message:e.data.msg})):4003==e.data.code?(t.approvalStatus=n,a.$message({type:\"warning\",message:e.data.msg})):a.$message.error(e.data.msg)})})}},computed:{getFlowCategoryDescription:function(t){return function(t){this.applyTypes.forEach(function(e,a){if(e.name==t)return e.description})}}}},r=(a(\"Lz8e\"),a(\"KHd+\")),i=Object(r.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"attendance-approval-list\"},[a(\"div\",{staticClass:\"controller-bar\"},[a(\"div\",{staticClass:\"operation\"}),t._v(\" \"),a(\"div\",{staticClass:\"search-bar\"},[a(\"div\",{staticClass:\"block\"},[a(\"span\",{staticClass:\"demonstration\"},[t._v(\"日期:\")]),t._v(\" \"),a(\"el-date-picker\",{attrs:{type:\"date\",placeholder:\"选择日期\",\"value-format\":\"yyyy-MM-dd\",\"picker-options\":t.datePickerConfig},on:{change:t.changeDate},model:{value:t.query.selectedDate,callback:function(e){t.$set(t.query,\"selectedDate\",e)},expression:\"query.selectedDate\"}})],1),t._v(\" \"),a(\"div\",{staticClass:\"apply-type-select\"},[a(\"span\",{staticClass:\"demonstration\"},[t._v(\"申请类型:\")]),t._v(\" \"),a(\"el-select\",{attrs:{clearable:\"\",placeholder:\"请选择\"},model:{value:t.query.flowCategory,callback:function(e){t.$set(t.query,\"flowCategory\",e)},expression:\"query.flowCategory\"}},t._l(t.applyTypes,function(t){return a(\"el-option\",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(\" \"),a(\"div\",{staticClass:\"approval-status-select\"},[a(\"span\",{staticClass:\"demonstration\"},[t._v(\"审批状态:\")]),t._v(\" \"),a(\"el-select\",{attrs:{clearable:\"\",placeholder:\"请选择\"},model:{value:t.query.approvalStatus,callback:function(e){t.$set(t.query,\"approvalStatus\",e)},expression:\"query.approvalStatus\"}},[a(\"el-option\",{attrs:{label:\"待审批\",value:\"0\"}}),t._v(\" \"),a(\"el-option\",{attrs:{label:\"已同意\",value:\"1\"}}),t._v(\" \"),a(\"el-option\",{attrs:{label:\"已拒绝\",value:\"2\"}})],1)],1),t._v(\" \"),a(\"div\",{staticClass:\"search\"},[a(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:t.search}},[t._v(\"搜索\")])],1)])]),t._v(\" \"),a(\"div\",{staticClass:\"main\"},[a(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{\"header-cell-style\":{background:\"#eef1f6\"},border:\"\",data:t.list}},[t._l(t.tableHead,function(t,e){return a(\"el-table-column\",{key:e,attrs:{prop:t.prop,label:t.label,width:t.width}})}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"申请类型\",width:\"100\",prop:\"flowCategory\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(\"\\n          \"+t._s(e.row.flowCategory&&t.applyTypes[e.row.flowCategory-1]?t.applyTypes[e.row.flowCategory-1].label:\"未知\")+\"\\n          \")]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"审批状态\",width:\"100\",prop:\"approvalStatus\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[0==e.row.approvalStatus?a(\"el-tag\",{attrs:{type:\"primary\"}},[t._v(\"待审批\")]):t._e(),t._v(\" \"),1==e.row.approvalStatus?a(\"el-tag\",{attrs:{type:\"success\"}},[t._v(\"已通过\")]):t._e(),t._v(\" \"),2==e.row.approvalStatus?a(\"el-tag\",{attrs:{type:\"danger\"}},[t._v(\"未通过\")]):t._e()]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"操作\",width:\"200\",prop:\"status\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[0==e.row.approvalStatus?a(\"div\",{staticClass:\"yet\"},[a(\"el-button\",{attrs:{type:\"success\",size:\"small\"},on:{click:function(a){t.updateWorkflowState(e.row,\"同意\")}}},[t._v(\"同意\")]),t._v(\" \"),a(\"el-button\",{attrs:{type:\"danger\",size:\"small\"},on:{click:function(a){t.updateWorkflowState(e.row,\"拒绝\")}}},[t._v(\"拒绝\")])],1):t._e(),t._v(\" \"),0!=e.row.approvalStatus?a(\"span\",[t._v(\"已审批\")]):t._e()]}}])})],2),t._v(\" \"),a(\"div\",{staticClass:\"paginate\"},[a(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.paginate.total,expression:\"paginate.total\"}],attrs:{total:t.paginate.total,page:t.paginate.currentPage,limit:t.paginate.limit,layout:t.paginate.layout},on:{\"update:page\":function(e){t.$set(t.paginate,\"currentPage\",e)},\"update:limit\":function(e){t.$set(t.paginate,\"limit\",e)},pagination:t.changePage}})],1)],1)])},[],!1,null,null,null);i.options.__file=\"staffInfoApprover.vue\";e.default=i.exports},\"X/1l\":function(t,e,a){},qULk:function(t,e,a){}}]);","extractedComments":[]}